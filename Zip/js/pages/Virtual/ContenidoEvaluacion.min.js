var Contador,Evaluacion={SaveEvaluacion:function(){var t=[],n=[],i;$.each($("input[type=radio]"),function(t,i){n.includes($(i).attr("name"))||n.push($(i).attr("name"))});$.each(n,function(n,i){var r=$("input[type=radio][name="+i+"]:checked").val();t.push({IdPregunta:parseInt(i),IdRespuesta:parseInt(r)})});i=$("#txthdIdEvento").val();DBR.blockUIStar("Guardando...");$.ajax({url:urlSaveEvaluacion,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({idCuestionario:$("#hdfIdCuestionario").val(),request:t,IdEvento:i}),success:function(n){DBR.blockUIStop();n.IsSuccess?(DBR.ToastSuccess(n.Message),$("html, body").animate({scrollTop:0},"slow"),Contador=setInterval(function(){clearInterval(Contador);window.location.reload()},1200)):DBR.ToastError(n.Message)},error:function(n,t){DBR.blockUIStop();console.log(t)}})},ValidateEvaluacion:function(){var n=[],t=!0;return $.each($("input[type=radio]"),function(t,i){n.includes($(i).attr("name"))||n.push($(i).attr("name"))}),$.each(n,function(n,i){var r=$("input[type=radio][name="+i+"]:checked").val();if(r==undefined||r==null)return t=!1,!1}),t},GenerarCertificado:function(){var n={};n.IdEvento=$("#txthdIdEvento").val();DBR.blockUIStar("Generando..");$.ajax({url:urlCargarPdfCertificadoUtomatico,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({documentos:n}),success:function(n){console.log(n);DBR.blockUIStop();n.IsSuccess?(window.open(urlDescargarPdfGenerado+"?NombreDocumento="+n.Message,"_blank"),window.location.reload()):DBR.ToastError(n.Message)},error:function(n,t){DBR.blockUIStop();console.log(t)}})},DescargarCertificado:function(){var n={};n.IdEvento=$("#txthdIdEvento").val();DBR.blockUIStar("Descargando..");$.ajax({url:urlCargarPdfCertificadoUtomatico,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({documentos:n}),success:function(n){DBR.blockUIStop();n.IsSuccess?window.location.href=urlDescargarPdfGenerado+"?NombreDocumento="+n.Message:DBR.ToastError(n.Message)},error:function(n,t){DBR.blockUIStop();console.log(t)}})}};$(document).ready(function(){$("body").on("contextmenu",function(){return!1});$("#id").on("contextmenu",function(){return!1});$(".login-btn").on("click",function(n){n.preventDefault();window.location.href=urlLeccion+"/"+$(this).data("id")+"?rowId="+$(this).data("curso")});$("#btnGuardarEvaluacion").click(function(n){n.preventDefault();$("#txtError").html("");Evaluacion.ValidateEvaluacion()?Evaluacion.SaveEvaluacion():DBR.ToastError("Por favor marque todas las respuestas")});$("#btnGenerarCertificado").click(function(n){n.preventDefault();$("#modalConfirmacion").modal("show")});$("#btnGeneracionCertificado").on("click",function(n){n.preventDefault();Evaluacion.GenerarCertificado()});$("#btnDescargarCertificado").on("click",function(n){n.preventDefault();Evaluacion.DescargarCertificado()})});