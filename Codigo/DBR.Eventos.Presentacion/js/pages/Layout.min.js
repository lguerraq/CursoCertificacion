function initActiveMenu(){$("#sidebar-menu a").each(function(){this.href==window.location.href&&($(this).parent().addClass("active"),$(this).parent().parent().parent().addClass("active"))})}var EventosLayaut={CambiarPassword:function(){var n={};n.OldPassword=$("#txtOldPassword").val();n.NewPassword=$("#txtNewPassword").val();n.RepNewPassword=$("#txtRepNewPassword").val();DBR.blockUIStar();$.ajax({url:urlCambiarPassword,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({usuario:n}),success:function(n){DBR.blockUIStop();n.IsSuccess?($("#ModalCambiarContraseña").modal("hide"),DBR.ToastSuccess(n.Message)):DBR.ToastError(n.Message)},error:function(n,t){DBR.blockUIStop();console.log(t)}})},ValidarUsuarioActividad:function(){$.ajax({url:urlValidarUsuarioActividad,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:{},success:function(n){n.IsSuccess||(window.location.href=urlCerrarSesionAutomatica)},error:function(n){console.log(n)}})}};$(document).ready(function(){initActiveMenu();EventosLayaut.ValidarUsuarioActividad();setInterval(function(){EventosLayaut.ValidarUsuarioActividad()},6e4);$("#btnCambiarContraseña").on("click",function(){$("#formCambioContrasenia .validar").each(function(){!DBR.limpiarCampo(this)});$("#txtErroForm").html("");$("#txtErroForm").addClass("hide");$("#ModalCambiarContraseña").modal("show")});$("#txtRepNewPassword").on("keyup",function(){var n=$("#txtNewPassword").val(),t=$("#txtRepNewPassword").val();t.length>=n.length&&(n!=t?($("#txtErroForm").html("Las nuevas contraseñas no coinciden."),$("#txtErroForm").removeClass("hide")):($("#txtErroForm").html(""),$("#txtErroForm").addClass("hide")))}).keyup();$("#btnCambiarContraseñaGuardar").on("click",function(){var n=0,t,i;if($("#formCambioContrasenia .validar").each(function(){DBR.validarCampo(this)||n++}),t=$("#txtNewPassword").val(),i=$("#txtRepNewPassword").val(),t!=i)return $("#txtErroForm").html("Las nuevas contraseñas no coinciden."),$("#txtErroForm").removeClass("hide"),!1;$("#txtErroForm").html("");$("#txtErroForm").addClass("hide");n==0&&EventosLayaut.CambiarPassword()})});