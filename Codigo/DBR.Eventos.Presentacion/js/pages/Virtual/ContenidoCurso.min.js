var Eventos={GetContenidoVirtualByEvento:function(){var n={};n.IdEvento=$("#txtIdEvento").val();let t=urlDetalleHtml+"?IdEvento="+n.IdEvento;$("#ifrDetalle").attr("src",t)},ListVirtualVideoByEvento:function(){var n={};n.IdEvento=$("#txtIdEvento").val();$.ajax({url:urlListVirtualVideoByEvento,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({request:n}),success:function(n){Funciones.LlenarVirtualVideo(n)},error:function(n,t){console.log(t)}})},FillVideo:function(n){var i="",r=0,t=n.Url.split("&");t[0]=t[0].replace("https://onedrive.live.com/?","https://onedrive.live.com/download.aspx?");t[2]="res"+t[2];n.MostrarVideo&&(i=i+'<video id="VideoJs'+r+'" class="video-js vjs-fluid" controls preload="auto" width="640" height="360" poster="http://www.ingenierosx100.org/Images/Videos/VIDEO1.jpg"> <source src="'+t[0]+"&"+t[2]+"&"+t[3]+"&"+t[4]+'" type="video/mp4"> <p class="vjs-no-js"> Para ver este video, habilite JavaScript y considere actualizar a un navegador web que admita video HTML5<\/p> <\/video>',r=r+1);$(".preview_video").html(i);let u=videojs("VideoJs0")}},Funciones={LlenarVirtualVideo:function(n){var i="",r="",t=0,u;$.each(n,function(n,u){var f=u.Url.split("&");f[0]=f[0].replace("https://onedrive.live.com/?","https://onedrive.live.com/download.aspx?");f[2]="res"+f[2];u.MostrarVideo&&(r=t==0?r+'<li class="active"><a href="#tabVideo'+t+'" data-toggle="tab">Video '+(n+1)+"<\/a><\/li>":r+'<li><a href="#tabVideo'+t+'" data-toggle="tab">Video '+(n+1)+"<\/a><\/li>",i=i+'<div class="tab-pane active" id="tabVideo'+t+'"><div class="post"><div class="row"><div class="col-sm-12"><video id="VideoJs'+t+'" class="video-js vjs-fluid" controls preload="auto" width="640" height="360" poster="http://www.ingenierosx100.org/Images/Videos/VIDEO'+(n+1)+'.jpg"> <source src="'+f[0]+"&"+f[2]+"&"+f[3]+"&"+f[4]+'" type="video/mp4"> <p class="vjs-no-js"> Para ver este video, habilite JavaScript y considere actualizar a un navegador web que admita video HTML5<\/p> <\/video><\/div><\/div><\/div><\/div>',t=t+1)});i==""&&(i=i+'<tr><td colspan="2">No se encontró ningún video cargado<\/td><\/tr>');$("#nav-tabs").html(r);$("#tab-content").html(i);let f=videojs("VideoJs0");for(u=1;u<t;u++){let n=videojs("VideoJs"+u);$("#tabVideo"+u).removeClass("active")}}};$(document).ready(function(){$("body").on("contextmenu",function(){return!1});$("#id").on("contextmenu",function(){return!1});Eventos.GetContenidoVirtualByEvento();$("#btnEditarContenido").on("click",function(){editor.setReadOnly(!1);$(this).hide();$("#btnGuardarContenido").show()});$("#btnGuardarContenido").on("click",function(){Eventos.SaveVirtualContenido()});$("#cboEvento").on("change",function(){Eventos.GetContenidoVirtualByEvento();Eventos.ListVirtualVideoByEvento()});$(".preview-text").on("click",function(){$("#modalLeccion").modal("show")});if($("#hdfVideo").val()!=null&&$("#hdfVideo").val()!=""){var n={};n.Url=$("#hdfVideo").val();n.MostrarVideo=!0;Eventos.FillVideo(n)}});